@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap');

/* ─── Design Tokens ─────────────────────────────────────────────────────────── */
:root {
  --background: 220 20% 6%;
  --foreground: 210 40% 95%;
  --card: 220 18% 9%;
  --card-foreground: 210 40% 95%;
  --border: 220 15% 14%;
  --input: 220 15% 14%;
  --ring: 180 80% 55%;
  --primary: 180 80% 55%;
  --primary-foreground: 220 20% 6%;
  --secondary: 220 15% 14%;
  --secondary-foreground: 210 30% 70%;
  --muted: 220 15% 14%;
  --muted-foreground: 210 20% 50%;
  --accent: 45 95% 60%;
  --accent-foreground: 220 20% 6%;
  --radius: 0.75rem;
  --glass-bg: hsla(220, 20%, 10%, 0.6);
  --glass-border: hsla(180, 80%, 55%, 0.12);
}

/* ─── Base ──────────────────────────────────────────────────────────────────── */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Inter', sans-serif;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  margin: 0;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

/* ─── Glass ─────────────────────────────────────────────────────────────────── */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
}
.glass-strong {
  background: hsla(220, 20%, 8%, 0.9);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid hsla(180, 80%, 55%, 0.22);
}

/* ─── Neon ──────────────────────────────────────────────────────────────────── */
.neon-glow {
  box-shadow: 0 0 20px hsla(180,80%,55%,0.45), 0 0 50px hsla(180,80%,55%,0.18);
}
.neon-glow-sm {
  box-shadow: 0 0 10px hsla(180,80%,55%,0.3), 0 0 22px hsla(180,80%,55%,0.1);
}
.neon-text {
  text-shadow: 0 0 24px hsla(180,80%,55%,0.9), 0 0 50px hsla(180,80%,55%,0.5), 0 0 80px hsla(180,80%,55%,0.2);
}
.pulse-neon {
  animation: pulse-neon 2s ease-in-out infinite;
}
@keyframes pulse-neon {
  0%,100% { box-shadow: 0 0 4px 1px hsl(180,80%,55%); }
  50%      { box-shadow: 0 0 12px 3px hsl(180,80%,55%); }
}

/* ─── Grid bg ───────────────────────────────────────────────────────────────── */
.grid-bg {
  background-image:
    linear-gradient(hsla(180,80%,55%,0.07) 1px, transparent 1px),
    linear-gradient(90deg, hsla(180,80%,55%,0.07) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* ─── 3D Card ───────────────────────────────────────────────────────────────── */
.card-3d {
  transform-style: preserve-3d;
  transition: transform 0.35s cubic-bezier(.25,.46,.45,.94), box-shadow 0.35s ease;
  will-change: transform;
}
.card-3d:hover {
  transform: perspective(900px) rotateX(4deg) rotateY(-4deg) translateY(-8px) scale(1.02);
  box-shadow: 0 24px 64px hsla(180,80%,55%,0.18), 0 8px 28px rgba(0,0,0,0.5);
}

/* ─── Floating marker animation ─────────────────────────────────────────────── */
.float-animation {
  animation: float 3s ease-in-out infinite;
}
@keyframes float {
  0%,100% { transform: translate(-50%,-50%) translateY(0); }
  50%      { transform: translate(-50%,-50%) translateY(-9px); }
}

/* ─── Fade-up stagger ───────────────────────────────────────────────────────── */
.animate-fade-up        { animation: fade-up 0.7s ease-out both; }
.animate-fade-up-delay-1 { animation: fade-up 0.7s 0.18s ease-out both; }
.animate-fade-up-delay-2 { animation: fade-up 0.7s 0.36s ease-out both; }
.animate-fade-up-delay-3 { animation: fade-up 0.7s 0.54s ease-out both; }
@keyframes fade-up {
  0%   { opacity: 0; transform: translateY(28px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* ─── 3D card enter stagger ─────────────────────────────────────────────────── */
.card-enter {
  animation: card-enter 0.65s cubic-bezier(.22,1,.36,1) both;
}
@keyframes card-enter {
  0%   { opacity: 0; transform: perspective(800px) rotateX(18deg) translateY(32px) scale(0.94); }
  100% { opacity: 1; transform: perspective(800px) rotateX(0deg) translateY(0) scale(1); }
}

/* ─── Orbit ring (hero decoration) ──────────────────────────────────────────── */
.orbit-ring {
  border: 1px solid hsla(180,80%,55%,0.12);
  border-radius: 50%;
  animation: orbit-spin linear infinite;
  position: absolute;
  pointer-events: none;
}
.orbit-ring-1 { animation-duration: 18s; }
.orbit-ring-2 { animation-duration: 28s; animation-direction: reverse; }
.orbit-ring-3 { animation-duration: 40s; }
@keyframes orbit-spin {
  from { transform: translate(-50%,-50%) rotate(0deg); }
  to   { transform: translate(-50%,-50%) rotate(360deg); }
}

/* ─── Floating scissors (hero 3D) ───────────────────────────────────────────── */
.scissors-float {
  animation: scissors-3d 6s ease-in-out infinite;
  filter: drop-shadow(0 0 12px hsla(180,80%,55%,0.6));
  will-change: transform;
}
@keyframes scissors-3d {
  0%,100% { transform: perspective(400px) rotateY(0deg)   rotateX(5deg) translateY(0px); }
  25%     { transform: perspective(400px) rotateY(8deg)   rotateX(-3deg) translateY(-12px); }
  50%     { transform: perspective(400px) rotateY(-5deg)  rotateX(8deg)  translateY(-6px); }
  75%     { transform: perspective(400px) rotateY(12deg)  rotateX(-5deg) translateY(-14px); }
}

/* ─── Particle dots ─────────────────────────────────────────────────────────── */
.particle {
  position: absolute;
  border-radius: 50%;
  background: hsl(180,80%,55%);
  animation: particle-float linear infinite;
  pointer-events: none;
}
@keyframes particle-float {
  0%   { transform: translateY(0) translateX(0) scale(1); opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: 0.6; }
  100% { transform: translateY(-120vh) translateX(var(--drift,0px)) scale(0.4); opacity: 0; }
}

/* ─── Shimmer loading ───────────────────────────────────────────────────────── */
.shimmer {
  background: linear-gradient(
    90deg,
    hsla(220,15%,14%,1) 25%,
    hsla(180,80%,55%,0.06) 50%,
    hsla(220,15%,14%,1) 75%
  );
  background-size: 400% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
}
@keyframes shimmer {
  0%   { background-position: 100% 50%; }
  100% { background-position: -100% 50%; }
}

/* ─── Permission modal backdrop ─────────────────────────────────────────────── */
.modal-backdrop {
  animation: backdrop-in 0.3s ease-out both;
}
@keyframes backdrop-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}
.modal-card {
  animation: modal-rise 0.4s cubic-bezier(.22,1,.36,1) both;
}
@keyframes modal-rise {
  from { opacity: 0; transform: scale(0.88) translateY(24px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

/* ─── Sidebar scroll ─────────────────────────────────────────────────────────── */
.sidebar-scroll::-webkit-scrollbar { width: 4px; }
.sidebar-scroll::-webkit-scrollbar-track { background: transparent; }
.sidebar-scroll::-webkit-scrollbar-thumb {
  background: hsla(180,80%,55%,0.25);
  border-radius: 2px;
}

/* ─── Scan line effect on hero ──────────────────────────────────────────────── */
.scanline {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    hsla(180,80%,55%,0.015) 2px,
    hsla(180,80%,55%,0.015) 4px
  );
  pointer-events: none;
}

/* ─── Neon border pulse on search ───────────────────────────────────────────── */
.search-glow-focus:focus-within {
  box-shadow: 0 0 0 1px hsla(180,80%,55%,0.4), 0 0 20px hsla(180,80%,55%,0.2);
  transition: box-shadow 0.3s ease;
}

/* ══════════════════════════════════════════════════════════════════════════════
   SCISSORS INTRO ANIMATION
   Scissors blade slides from left to center, cut-line expands across screen,
   then the two curtain halves peel apart revealing the page below.
══════════════════════════════════════════════════════════════════════════════ */

.intro-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  overflow: hidden;
}

/* Two dark curtain halves covering the full page initially */
.intro-curtain-top,
.intro-curtain-bottom {
  position: absolute;
  left: 0;
  right: 0;
  background: hsl(220, 20%, 4%);
  z-index: 1;
}
.intro-curtain-top    { top: 0; height: 50%; }
.intro-curtain-bottom { bottom: 0; height: 50%; }

/* Glowing neon seam line */
.intro-cut-line {
  position: absolute;
  left: 0; right: 0;
  top: 50%;
  height: 2px;
  background: hsl(180, 80%, 55%);
  box-shadow: 0 0 12px 4px hsl(180,80%,55%), 0 0 40px 10px hsla(180,80%,55%,0.35);
  transform: translateY(-50%) scaleX(0);
  transform-origin: center;
  z-index: 3;
}

/* Scissors icon container */
.intro-scissors-wrap {
  position: absolute;
  top: 50%;
  left: -160px;
  transform: translateY(-50%);
  z-index: 4;
  filter: drop-shadow(0 0 18px hsl(180,80%,55%));
}

/* ── Animations fire when .playing class is added ── */

/* 1. Scissors slides in from left → center */
.intro-overlay.playing .intro-scissors-wrap {
  animation:
    scissors-in   0.55s cubic-bezier(.22,1,.36,1) 0.05s both,
    scissors-out  0.2s  ease-in                   0.82s both;
}
@keyframes scissors-in {
  from { left: -160px; }
  to   { left: calc(50% - 36px); }
}
@keyframes scissors-out {
  from { opacity: 1; transform: translateY(-50%) scale(1); }
  to   { opacity: 0; transform: translateY(-50%) scale(0.5); }
}

/* 2. Cut line expands across full width */
.intro-overlay.playing .intro-cut-line {
  animation: cut-expand 0.3s cubic-bezier(.4,0,.2,1) 0.58s both;
}
@keyframes cut-expand {
  from { transform: translateY(-50%) scaleX(0); }
  to   { transform: translateY(-50%) scaleX(1); }
}

/* 3. Top curtain flies up */
.intro-overlay.playing .intro-curtain-top {
  animation: curtain-up 0.5s cubic-bezier(.4,0,.2,1) 0.88s both;
}
@keyframes curtain-up {
  from { transform: translateY(0); }
  to   { transform: translateY(-100%); }
}

/* 4. Bottom curtain flies down */
.intro-overlay.playing .intro-curtain-bottom {
  animation: curtain-down 0.5s cubic-bezier(.4,0,.2,1) 0.88s both;
}
@keyframes curtain-down {
  from { transform: translateY(0); }
  to   { transform: translateY(100%); }
}
